{
  "_from": "koa-mongo",
  "_id": "koa-mongo@1.9.1",
  "_inBundle": false,
  "_integrity": "sha512-ZjSRk3o67auyuniBipgappf4MpH7E5/i5LM3uT8B6d4RWDDo3DJTj5v+RhHbBUKpKJeP+Z/ITtPCBUPBrQh7Gw==",
  "_location": "/koa-mongo",
  "_phantomChildren": {},
  "_requested": {
    "escapedName": "koa-mongo",
    "fetchSpec": "latest",
    "name": "koa-mongo",
    "raw": "koa-mongo",
    "rawSpec": "",
    "registry": true,
    "saveSpec": null,
    "type": "tag"
  },
  "_requiredBy": [
    "#USER",
    "/"
  ],
  "_resolved": "https://registry.npmjs.org/koa-mongo/-/koa-mongo-1.9.1.tgz",
  "_shasum": "e5911d741c21278ffb888949e4766183cd1cc8b6",
  "_spec": "koa-mongo",
  "_where": "C:\\Users\\gabri\\Documents\\blog\\backend",
  "author": {
    "name": "nswbmw"
  },
  "bugs": {
    "url": "https://github.com/nswbmw/koa-mongo/issues"
  },
  "bundleDependencies": false,
  "dependencies": {
    "debug": "4.1.1",
    "generic-pool": "3.7.1",
    "mongodb": "3.4.0",
    "muri": "1.3.0"
  },
  "deprecated": false,
  "description": "MongoDB middleware for koa, support connection pool.",
  "devDependencies": {
    "eslint": "6.7.2",
    "eslint-config-standard": "14.1.0",
    "eslint-plugin-import": "2.19.1",
    "eslint-plugin-node": "10.0.0",
    "eslint-plugin-promise": "4.2.1",
    "eslint-plugin-standard": "4.0.1",
    "koa": "2"
  },
  "homepage": "https://github.com/nswbmw/koa-mongo#readme",
  "keywords": [
    "koa",
    "mongo",
    "mongodb"
  ],
  "license": "MIT",
  "main": "index.js",
  "name": "koa-mongo",
  "optionalDependencies": {},
  "readme": "## koa-mongo\n\nkoa-mongo is a mongodb middleware for koa@2, support connection pool.\n\n### Install\n\n```sh\nnpm i koa-mongo --save\n```\n\n### Usage\n\n```js\napp.use(mongo({\n  host: 'localhost',\n  port: 27017,\n  user: 'admin',\n  pass: '123456',\n  db: 'test',\n  authSource: 'admin',\n  max: 100,\n  min: 1,\n  ...\n}));\n```\n\nor\n\n```js\napp.use(mongo({\n  uri: 'mongodb://admin:123456@localhost:27017/test?authSource=admin', //or url\n  max: 100,\n  min: 1\n  ...\n}));\n```\n\nor\n\n```js\napp.use(mongo({\n  uri: 'mongodb://admin:123456@localhost:27017/test?authSource=admin', //or url\n  max: 100,\n  min: 1\n  ...\n}, {\n  useUnifiedTopology: true\n  ...\n}\n));\n```\n\ndefaultOptions:\n\n```js\n{\n  host: 'localhost',\n  port: 27017,\n  db: 'test',\n  authSource: 'admin',\n  max: 100,\n  min: 1,\n  acquireTimeoutMillis: 100\n}\n```\n\nMore options see [generic-pool](https://github.com/coopernurse/node-pool).\n\n### ctx.mongo & ctx.db\n\n`ctx.mongo` is an instance of MongoClient.\n\n```js\nctx.db === ctx.mongo.db(dbName)\n```\n\n### Example\n\n```js\nconst Koa = require('koa')\nconst mongo = require('koa-mongo')\n\nconst app = new Koa()\n\napp.use(mongo())\napp.use(async (ctx, next) => {\n  // ctx.db === ctx.mongo.db('test')\n  const result = await ctx.db.collection('users').insert({ name: 'haha' })\n  const userId = result.ops[0]._id.toString()\n  ctx.body = await ctx.db.collection('users').find().toArray()\n  ctx.db.collection('users').remove({\n    _id: mongo.ObjectId(userId)\n  })\n})\napp.listen(3000, () => {\n  console.log('listening on port 3000')\n})\n```\n\n### [Mongolass](https://github.com/mongolass/mongolass)\n\nMongolass is a elegant MongoDB driver for Node.js.\n\n### License\n\nMIT\n",
  "readmeFilename": "readme.md",
  "repository": {
    "type": "git",
    "url": "git+https://github.com/nswbmw/koa-mongo.git"
  },
  "scripts": {
    "example": "DEBUG=* node example"
  },
  "version": "1.9.1"
}
